<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>가계부 - 거래 상세</title>
  <link rel="stylesheet" href="assets/styles.css" />
</head>
<body>

  <div class="app">
    
    <aside class="sidebar" id="sidebar">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div>
          <h1>가계부</h1>
          <p>Static UI Mock</p>
        </div>
      </div>

      <nav class="nav" aria-label="메뉴">
        
      <a class="" href="dashboard.html">
        <span class="left">🏠 <span>대시보드</span></span>
        
      </a>
        
      <a class="active" href="transactions.html">
        <span class="left">🧾 <span>거래내역</span></span>
        <span class="pill">목업</span>
      </a>
        
      <a class="" href="budgets.html">
        <span class="left">🎯 <span>예산</span></span>
        
      </a>
        
      <a class="" href="categories.html">
        <span class="left">🏷️ <span>카테고리</span></span>
        
      </a>
        
      <a class="" href="reports.html">
        <span class="left">📊 <span>리포트</span></span>
        
      </a>
        
      <a class="" href="settings.html">
        <span class="left">⚙️ <span>설정</span></span>
        
      </a>
      </nav>

      <div class="sidebar-footer">
        <div class="user">
          <div class="avatar" aria-hidden="true">YH</div>
          <div class="meta">
            <p class="name">YONGJU</p>
            <p class="sub">Tokyo • JPY</p>
          </div>
        </div>
        <button class="ghost" type="button" id="closeSidebarBtn" title="닫기">✕</button>
      </div>
    </aside>

    <div id="sidebarShade" class="overlay" aria-hidden="truetrue"></div>
  
    
    <main class="main">
      <header class="topbar">
        <div class="top-left">
          <button class="hamburger" id="openSidebarBtn" type="button" aria-label="메뉴 열기">☰</button>
          <div class="search" role="search">
            🔎
            <input placeholder="거래 상세에서 검색 (목업)" />
          </div>
        </div>
        <div class="top-right">
          <select class="select hide-mobile" aria-label="기간 선택">
            <option>이번 달</option>
            <option>지난 달</option>
            <option>최근 3개월</option>
            <option>올해</option>
          </select>
          <button class="btn secondary" type="button" onclick="history.back()">← 목록</button><button class="btn" type="button" data-toast="저장(목업)">저장</button>
        </div>
      </header>

      <section class="content">
        <div class="page-title">
          <div>
            <h2>거래 상세</h2>
            <p>거래ID: <strong data-tx-id>—</strong></p>
          </div>
          <div class="chips">
            <span class="badge good">분류됨</span>
            <span class="badge">카드</span>
            <span class="badge warn">정기 후보</span>
          </div>
        </div>

        <div class="tabs" data-tabs data-default-tab="overview">
          <button class="tab active" data-tab="overview" type="button">개요</button>
          <button class="tab" data-tab="split" type="button">분할/항목</button>
          <button class="tab" data-tab="attachments" type="button">첨부</button>
          <button class="tab" data-tab="rules" type="button">자동분류 규칙</button>
          <button class="tab" data-tab="audit" type="button">감사 로그</button>
        </div>

        <article class="card" data-panel="overview">
          <div class="card-header">
            <div>
              <h3>기본 정보</h3>
              <div class="hint">원장/거래 메타데이터</div>
            </div>
            <div class="chips">
              <button class="btn secondary" type="button" data-open-modal="#deleteTx">삭제</button>
              <button class="btn secondary" type="button" data-toast="복제(목업)">복제</button>
            </div>
          </div>

          <div class="row">
            <div class="field"><label>거래ID</label><input id="txIdInput" readonly /></div>
            <div class="field"><label>일시</label><input type="datetime-local" /></div>
          </div>

          <div class="row">
            <div class="field"><label>유형</label><select><option>지출</option><option>수입</option><option>이체</option></select></div>
            <div class="field"><label>결제수단</label><select><option>카드</option><option>현금</option><option>계좌</option><option>교통카드</option></select></div>
          </div>

          <div class="row">
            <div class="field"><label>금액(JPY)</label><input type="number" value="680" /></div>
            <div class="field"><label>통화</label><select><option>JPY</option><option>KRW</option><option>USD</option></select></div>
          </div>

          <div class="row">
            <div class="field"><label>카테고리</label><select><option>식비</option><option>교통</option><option>쇼핑</option><option>구독</option><option>주거/공과금</option><option>기타</option></select></div>
            <div class="field"><label>가맹점/내용</label><input value="FamilyMart" /></div>
          </div>

          <div class="field"><label>메모</label><textarea>커피/간식</textarea></div>

          <div class="divider"></div>
          <div class="grid-3">
            <div class="card" style="box-shadow:none; background:rgba(255,255,255,.04);">
              <div class="card-header" style="margin-bottom:6px;"><h3 style="font-size:13px;">원장</h3><span class="badge">개인</span></div>
              <small>프로젝트/공유 가계부 등 멀티 원장 UX 확장용</small>
            </div>
            <div class="card" style="box-shadow:none; background:rgba(255,255,255,.04);">
              <div class="card-header" style="margin-bottom:6px;"><h3 style="font-size:13px;">태그</h3><span class="badge">#편의점</span></div>
              <small>검색/리포트 필터에 사용</small>
            </div>
            <div class="card" style="box-shadow:none; background:rgba(255,255,255,.04);">
              <div class="card-header" style="margin-bottom:6px;"><h3 style="font-size:13px;">신뢰도</h3><span class="badge warn">중간</span></div>
              <small>OCR/가맹점 매칭 실패 시 경고</small>
            </div>
          </div>
        </article>

        <article class="card" data-panel="split" style="display:none;">
          <div class="card-header">
            <div>
              <h3>분할/항목</h3>
              <div class="hint">하나의 거래를 여러 카테고리로 나누기</div>
            </div>
            <button class="btn" type="button" data-toast="항목 추가(목업)">＋ 항목 추가</button>
          </div>

          <div class="table-wrap">
            <table>
              <thead>
                <tr><th>항목</th><th>카테고리</th><th>금액</th><th>메모</th><th>작업</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td>1</td>
                  <td><span class="tag food"><span class="t"></span>식비</span></td>
                  <td class="amount out">- ¥ 500</td>
                  <td class="muted">커피</td>
                  <td><button class="ghost" type="button" data-toast="삭제(목업)">삭제</button></td>
                </tr>
                <tr>
                  <td>2</td>
                  <td><span class="tag misc"><span class="t"></span>기타</span></td>
                  <td class="amount out">- ¥ 180</td>
                  <td class="muted">간식</td>
                  <td><button class="ghost" type="button" data-toast="삭제(목업)">삭제</button></td>
                </tr>
              </tbody>
            </table>
          </div>
          <div style="margin-top:10px;"><small>합계가 원금액과 일치하도록 검증(프론트/백 모두) 권장</small></div>
        </article>

        <article class="card" data-panel="attachments" style="display:none;">
          <div class="card-header">
            <div>
              <h3>첨부</h3>
              <div class="hint">영수증/이미지/파일</div>
            </div>
            <button class="btn" type="button" data-toast="업로드(목업)">＋ 업로드</button>
          </div>

          <div class="grid-3">
            <div class="card" style="box-shadow:none; background:rgba(255,255,255,.04);">
              <div class="card-header" style="margin-bottom:6px;"><h3 style="font-size:13px;">receipt_001.jpg</h3><span class="badge">이미지</span></div>
              <small>OCR 결과 요약/재분류 버튼 추가 가능</small>
            </div>
            <div class="card" style="box-shadow:none; background:rgba(255,255,255,.04);">
              <div class="card-header" style="margin-bottom:6px;"><h3 style="font-size:13px;">memo.txt</h3><span class="badge">텍스트</span></div>
              <small>간단한 설명/증빙</small>
            </div>
            <div class="card" style="box-shadow:none; background:rgba(255,255,255,.04);">
              <div class="card-header" style="margin-bottom:6px;"><h3 style="font-size:13px;">—</h3><span class="badge">+</span></div>
              <small>드래그&드롭 영역으로 확장</small>
            </div>
          </div>
        </article>

        <article class="card" data-panel="rules" style="display:none;">
          <div class="card-header">
            <div>
              <h3>자동분류 규칙</h3>
              <div class="hint">가맹점/키워드/결제수단 → 카테고리</div>
            </div>
            <button class="btn" type="button" data-open-modal="#ruleAdd">＋ 규칙 추가</button>
          </div>

          <div class="grid-list">
            <div class="item-row">
              <div class="left" style="min-width:0;">
                <div style="min-width:0;">
                  <div class="title">merchant contains "FamilyMart"</div>
                  <div class="sub">카테고리=식비 · 우선순위=10 · 활성</div>
                </div>
              </div>
              <div class="chips">
                <span class="badge good">ON</span>
                <button class="ghost" type="button" data-toast="편집(목업)">편집</button>
                <button class="ghost" type="button" data-toast="비활성(목업)">OFF</button>
              </div>
            </div>

            <div class="item-row">
              <div class="left" style="min-width:0;">
                <div style="min-width:0;">
                  <div class="title">merchant contains "Netflix"</div>
                  <div class="sub">카테고리=구독 · 정기결제 표시</div>
                </div>
              </div>
              <div class="chips">
                <span class="badge good">ON</span>
                <button class="ghost" type="button" data-toast="편집(목업)">편집</button>
                <button class="ghost" type="button" data-toast="비활성(목업)">OFF</button>
              </div>
            </div>
          </div>

          <div class="divider"></div>
          <small>정규식 지원/우선순위/화이트리스트/카테고리 fallback 등 룰 엔진 설계 포인트</small>
        </article>

        <article class="card" data-panel="audit" style="display:none;">
          <div class="card-header">
            <div>
              <h3>감사 로그</h3>
              <div class="hint">누가/언제/무엇을 변경했는지</div>
            </div>
            <span class="badge">Read-only</span>
          </div>

          <div class="table-wrap">
            <table>
              <thead><tr><th>시간</th><th>액션</th><th>필드</th><th>변경 전</th><th>변경 후</th><th>주체</th></tr></thead>
              <tbody>
                <tr><td class="muted">02/10 19:23</td><td>UPDATE</td><td>category</td><td class="muted">미분류</td><td>식비</td><td class="muted">system(rule#12)</td></tr>
                <tr><td class="muted">02/10 19:23</td><td>UPDATE</td><td>memo</td><td class="muted">-</td><td>커피/간식</td><td class="muted">user</td></tr>
              </tbody>
            </table>
          </div>
        </article>

      </section>

      <!-- Rule add modal -->
      <div class="overlay" id="ruleAdd" aria-hidden="true">
        <div class="modal" role="dialog" aria-modal="true" aria-label="규칙 추가">
          <div class="modal-head">
            <h4>자동분류 규칙 추가</h4>
            <button class="ghost" type="button" data-close-modal aria-label="닫기">✕</button>
          </div>
          <div class="modal-body">
            <div class="row">
              <div class="field"><label>조건</label><select><option>merchant contains</option><option>memo contains</option><option>amount &gt;=</option><option>payment method is</option></select></div>
              <div class="field"><label>값</label><input placeholder='예: FamilyMart' /></div>
            </div>
            <div class="row">
              <div class="field"><label>카테고리</label><select><option>식비</option><option>교통</option><option>쇼핑</option><option>구독</option><option>주거/공과금</option><option>기타</option></select></div>
              <div class="field"><label>우선순위</label><input type="number" value="10" /></div>
            </div>
            <label style="font-size:12px; color:var(--muted); display:flex; gap:8px; align-items:center;">
              <input type="checkbox" checked /> 활성화
            </label>
          </div>
          <div class="modal-foot">
            <button class="btn secondary" type="button" data-close-modal>취소</button>
            <button class="btn" type="button" data-toast="규칙 저장(목업)" data-close-modal>저장</button>
          </div>
        </div>
      </div>

      <!-- Delete modal -->
      <div class="overlay" id="deleteTx" aria-hidden="true">
        <div class="modal" role="dialog" aria-modal="true" aria-label="삭제 확인">
          <div class="modal-head">
            <h4>거래 삭제</h4>
            <button class="ghost" type="button" data-close-modal aria-label="닫기">✕</button>
          </div>
          <div class="modal-body">
            <div class="badge bad">주의: 삭제 후 복구 불가(목업)</div>
            <small>실제 구현에서는 Soft delete + 복구 기간, 또는 감사로그/권한 체크를 권장.</small>
          </div>
          <div class="modal-foot">
            <button class="btn secondary" type="button" data-close-modal>취소</button>
            <button class="btn" type="button" data-toast="삭제 완료(목업)" data-close-modal>삭제</button>
          </div>
        </div>
      </div>

      <div style="color:rgba(255,255,255,.55); font-size:12px; padding: 6px 18px 18px;">
        목업 화면입니다. (API/상태관리 연동 전)
      </div>
    </main>
  </div>
  <script src="assets/app.js"></script>
</body>
</html>
